<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>V√¶lg musik</title>
    <style>body {
      font-family: Arial, sans-serif;
      text-align: center;
      padding: 20px;
      background-color: #d2caca;
      color: white;
    }
    #genre-container {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px 15px;
      position: fixed;
      justify-content: center;
      flex-direction: column;       /* L√¶g knapperne lodret */
      align-items: flex-end;        /* Just√©r til h√∏jre */
      position: fixed;              /* G√∏r den fast i h√∏jre side */
      right: 20px;                  /* Afstand fra h√∏jre kant */
      top: 30px;                   /* Lidt ned fra toppen */
      gap: 10px;                    /* Lidt luft imellem knapperne */
      width: 280px;
    }

    /* knap styling*/
    button {
      margin: 10px;
      padding: 10px 20px;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      background-color: rgb(144, 182, 244);
      color: white;
      width: 120px;                 /* Ens bredde p√• knapperne */
      text-align: center;            /* Tekst rykket mod h√∏jre */
    }

    button:hover {
      background-color: rgb(124, 169, 241);
    }
    #output {
      margin-top: 30px;
      font-size: 18px;
    }

.sidebar {
  position: fixed;
  top: 0;
  left: 0; /* eller right: 0; */
  width: 200px;
  height: 150vh;
  background-color: #2c2a2ad1;
  color: rgb(255, 255, 255);
  padding: 20px;
  font-family: sans-serif;
  box-sizing: border-box;
}

#kurv {
  position: fixed;
  bottom: 0;
  left: 200px; /* s√• den ikke overlapper sidebar */
  right: 0;
  background-color: #2c2a2ad1;
  padding: 15px;
  border-top: 2px solid #90b6f4;
  text-align: center;
  color: white;
}
</style>
</head>
<body>

<div class="sidebar"> <br>
  
  <h3>Pris:</h3>
  <p>1 sang = 2 kr. <br> 3 sange = 5 kr. <br> <br> <br> Max 3 sange pr. ordre  </p>

<div class="tilbage-wrapper">
  <button type="button" onclick="history.back()">‚Üê TILBAGE</button>
</div>

<style>
  .tilbage-wrapper {
    position: absolute;   /* g√∏r det muligt at placere frit */
    top: 1px;            /* afstand fra toppen */
    left: 0px;           /* afstand fra venstre */
  }

  .tilbage-wrapper button {
    font-size: 12px;      /* g√∏r knappen mindre */
    padding: 4px 8px;     /* mindre indvendig afstand */
    border-radius: 6px;   /* p√¶nere hj√∏rner */
    cursor: pointer;
  }
</style>
  
  
  <button onclick="window.location.href='Betalings_side.html'">
    G√• til betaling
</button>
</a>

</div>


<div id="genre-container">
  <button onclick="spilGenre('rock')">Rock</button>
  <button onclick="spilGenre('pop')">Pop</button>
  <button onclick="spilGenre('jazz')">Jazz</button>
  <button onclick="spilGenre('metal')">Metal</button>
  <button onclick="spilGenre('alternative & punk')">Alternative & Punk</button>
  <button onclick="spilGenre('rock and roll')">Rock and Roll</button>
  <button onclick="spilGenre('blues')">Blues</button>
  <button onclick="spilGenre('latin')">Latin</button>
  <button onclick="spilGenre('reggae')">Reggae</button>
  <button onclick="spilGenre('soundtrack')">Soundtrack</button>
  <button onclick="spilGenre('bossa nova')">Bossa Nova</button>
  <button onclick="spilGenre('easy listening')">Easy listening</button>
  <button onclick="spilGenre('Heavy Metal')">Heavy Metal</button>
  <button onclick="spilGenre('r&b/soul')">R&B/Soul</button>
  <button onclick="spilGenre('electronica/dance')">Electronica & Dance</button>
  <button onclick="spilGenre('World')">World</button>
  <button onclick="spilGenre('hip hop/rap')">Hip Hop/Rap</button>
  <button onclick="spilGenre('alternative')">Alternative</button>
  <button onclick="spilGenre('classical')">Classical</button>
  <button onclick="spilGenre('Opera')">Opera</button>
</div>

  <div id="output"></div>

<div id="kurv">
    <h3>üõí Din kurv</h3>
    <div id="cart-list">Ingen sange valgt endnu</div>
</div>

  <script>
    let musikData = null;
    const kurv = []; //tomt array til valgte sange 

    window.addEventListener('DOMContentLoaded', () => {
        fetch('albums.json')
        .then(response => response.json())
        .then(data => {
            musikData = data;
            console.log("Musikdata hentet:", musikData);
        })
        .catch(err => console.error("Fejl ved hentning af JSON:", err));
    });

    function spilGenre(genre){
        const output = document.getElementById('output');
        output.innerHTML = `<h2>${genre.toUpperCase()} üé∂</h2>`;

        if (!musikData) {
            output.innerHTML += "<p>Indl√¶ser data... pr√∏v igen om lidt.</p>";
            return;
        }

      // Filtr√©r alle tracks i alle albums efter genre
        const tracks = musikData.albums.flatMap(album =>
        album.tracks
          .filter(track => track.genre.name.toLowerCase() === genre.toLowerCase())
          .map(track => ({
            title: track.title,
            artist: album.artist.name // hent kunstnernavnet fra albummet
          }))
      );

        if (tracks.length === 0) {
            output.innerHTML += "<p>Ingen sange fundet i denne genre.</p>";
            return;
        }

      // Vis alle fundne tracks
        tracks.forEach(track => {
            const div = document.createElement("div");
            div.className = "song";
            div.innerHTML = `
                <span>${track.title} ‚Äî <em>${track.artist}</em></span>
                <button onclick="tilf√∏jTilKurv('${track.title}', '${track.artist}')">‚ûï</button>
                `;
            output.appendChild(div);
        });
    }

   function tilf√∏jTilKurv(titel, kunstner){
        kurv.push({titel, kunstner});
        opdaterKurv();
    }

    function opdaterKurv(){
        const cartList = document.getElementById("cart-list");
        if (kurv.length === 0) {
            cartList.textContent = "Ingen sange valgt endnu";
            return;
        }
        cartList.innerHTML = kurv.map(item => `üéµ ${item.titel} ‚Äî <em>${item.kunstner}</em>`).join("<br>");
    

    // Ryd visningen
    cartList.innerHTML = "";

    // Genneml√∏b alle sange i kurven
    kurv.forEach((item, index) => {
        // Opret et element til hver sang
        const div = document.createElement("div");
        div.className = "kurv-item";
        div.style.marginBottom = "8px";

        // Tekst (titel og kunstner)
        const tekst = document.createElement("span");
        tekst.innerHTML = `üéµ ${item.titel} ‚Äî <em>${item.kunstner}</em>`;

        // Fjern-knap
        const fjernKnap = document.createElement("button");
        fjernKnap.textContent = "‚ùå";
        fjernKnap.style.marginLeft = "10px";
        fjernKnap.style.backgroundColor = "#ff6666";
        fjernKnap.style.color = "white";
        fjernKnap.style.border = "none";
        fjernKnap.style.borderRadius = "6px";
        fjernKnap.style.cursor = "pointer";
        fjernKnap.onclick = () => fjernFraKurv(index);

        // Tilf√∏j tekst og knap til div
        div.appendChild(tekst);
        div.appendChild(fjernKnap);

        // Tilf√∏j sangen til visningen
        cartList.appendChild(div);
    });
}

function fjernFraKurv(index) {
    // Fjern √©n sang fra kurven ud fra dens placering
    kurv.splice(index, 1);
    opdaterKurv(); // Opdater visningen
}

function tilf√∏jTilKurv(titel, kunstner) {

    // Max 3 sange i kurven
    if (kurv.length >= 3) {
        alert("Du kan maks v√¶lge 3 sange i en ordre.");
        return;
    }

    // Undg√• dubletter
    const findesAllerede = kurv.some(item => 
        item.titel === titel && item.kunstner === kunstner
    );
    if (findesAllerede) {
        alert("Denne sang er allerede i kurven.");
        return;
    }

    // Tilf√∏j sang
    kurv.push({ titel, kunstner });
    opdaterKurv();
}

function fjernFraKurv(index) {
    kurv.splice(index, 1);
    opdaterKurv();
}

function opdaterKurv() {
    const cartList = document.getElementById("cart-list");

    if (kurv.length === 0) {
        cartList.innerHTML = "Ingen sange valgt endnu";
        return;
    }

    cartList.innerHTML = "";

    // Udskriv alle sange med fjern-knap
    kurv.forEach((item, index) => {
        const div = document.createElement("div");
        div.className = "kurv-item";

        const tekst = document.createElement("span");
        tekst.innerHTML = `üéµ ${item.titel} ‚Äî <em>${item.kunstner}</em>`;

        const fjernKnap = document.createElement("button");
        fjernKnap.textContent = "‚ùå";
        fjernKnap.onclick = () => fjernFraKurv(index);

        div.appendChild(tekst);
        div.appendChild(fjernKnap);

        cartList.appendChild(div);
    });

    // üí∞ BEREGN TOTALPRIS
    const antal = kurv.length;
    let pris = 0;

    if (antal === 1) pris = 2;
    if (antal === 2) pris = 4;
    if (antal === 3) pris = 5;

    const prisElement = document.createElement("p");
    prisElement.style.marginTop = "10px";
    prisElement.style.fontWeight = "bold";
    prisElement.style.fontSize = "18px";
    prisElement.innerHTML = `Total: <span style="color:#90b6f4">${pris} kr</span>`;

    cartList.appendChild(prisElement);
}


  </script>
<style>
.ticker {
  position: fixed;
  bottom: 0;
  width: 100%;
  background: #2c2a2ad1;
  color: rgb(144, 182, 244);
  overflow: hidden;
  white-space: nowrap;
  padding: 10px 0;
  font-family: Arial, sans-serif;
  font-size: 18px;
}

.ticker-content {
  display: inline-block;
  padding-left: 100%;
  animation: ticker 30s linear infinite;
}

@keyframes ticker {
  0% { transform: translateX(0); }
  100% { transform: translateX(-100%); }
}
</style>

 <div class="ticker">
  <div class="ticker-content">
    Spiller nu: | Justin Bieber: Baby | N√¶ste sange i k√∏: | Michael Jackson: Thriller (3 minutter) | Ukendt Kunstner: Stein Bagger (7 minutter) | Taylor Swift: love Story (10 minutter) | Rihanna: Disturbia (13 minutter) | Kendrick Lamar: Not Like Us (17 minutter) | Flo Rida: Wild Ones  (20 minutter)
  </div>
</div>
</body>
</html>